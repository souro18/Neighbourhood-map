{"version":3,"sources":["Place.js","sidebar.js","APIRequest.js","Map.js","App.js","index.js"],"names":["Place","props","react_default","a","createElement","className","onClick","event","placeOnClick","place","venue","location","lat","lng","name","categories","address","city","postalCode","SideBar","document","addEventListener","elems","querySelectorAll","window","M","Collapsible","init","_this","this","id","changeNav","type","onChange","e","search","target","value","htmlFor","places","length","map","src_Place","key","Component","headers","Accept","Map","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","markers","_this2","m","remove","popup","mapboxgl","Popup","setText","Marker","setLngLat","setPopup","addTo","setState","flyTo","center","zoom","bearing","speed","curve","easing","t","addMarker","flyToLocation","accessToken","container","style","on","console","log","role","App","searchedPlaces","error","sidebar","getElementById","display","query","match","RegExp","escapeRegExp","p","filter","test","fetch","concat","then","res","json","data","response","groups","items","catch","alert","_this3","src_Map","Dotenv","config","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.c195769d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Place(props) {\r\n\treturn (\r\n\t\t<li className=\"collapsible-card white-text\">\r\n\t      <div className=\"collapsible-header\" onClick={(event)=>props.placeOnClick(props.place.venue.location.lat,props.place.venue.location.lng)}>{props.place.venue.name}</div>\r\n\t      <div className=\"collapsible-body\">\r\n\t      \t<div>Type : {props.place.venue.categories[0].name}</div>\r\n\t      \t<div>\r\n\t      \t\t<p>{(props.place.venue.location.address)?\r\n\t      \t\t\t(<span>Address {props.place.venue.location.address} <br/></span>):null}\r\n\t      \t\t\t{props.place.venue.location.city}\r\n\t      \t\t</p>\r\n\t      \t\t{(props.place.venue.location.postalCode)?\r\n\t      \t\t(<p>Pin Code : {props.place.venue.location.postalCode}</p>):null}\r\n\t      \t</div>\r\n\r\n\t      </div>\r\n\t    </li>\r\n\t\t)\r\n}\r\nexport default Place;","import React , { Component } from 'react';\r\nimport Place from './Place'\r\n\r\nclass SideBar extends Component {\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\t    var elems = document.querySelectorAll('.collapsible');\r\n\t\t    window.M.Collapsible.init(elems, {});\r\n\t\t  });\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"sidebar\">\r\n\t\t\t    <div className=\"white-text right s1\" onClick={(event)=>this.props.changeNav()}>\r\n\t\t\t\t\t<i className=\"material-icons\">close</i>\r\n\t\t\t    </div>\r\n\t\t\t    <div className=\"row\">  \r\n\t\t\t        <div className=\"input-field col s12 left\">\r\n\t\t\t          <input id=\"search\" type=\"text\" className=\"validate white-text\" onChange={e => this.props.search(e.target.value)}/>\r\n\t\t\t          <label htmlFor=\"search\">Search</label>\r\n\t\t\t        </div>\r\n\t\t\t    </div>\r\n\t\t\t    <div id=\"scroll\">\r\n\t\t\t\t\t<ul className=\"collapsible\">\r\n\t\t\t\t\t{this.props.places.length > 0 && this.props.places.map((place)=>{\r\n\t\t\t\t\t\treturn <Place  place={place} key={place.venue.id} placeOnClick={this.props.placeOnClick}/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t{this.props.places.length === 0 && <div className=\"white-text\">No Match</div>}\r\n\t\t\t    </div>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\nexport default SideBar;","const url = `https://api.foursquare.com/v2/venues/explore?client_id=02TQD0SIBSMPLK1MJFCNIVVNWL5OOVOEZ2P13DVAKICFQKZU&client_secret=RRDGPDGTZ3W1CAK3AW12OQUAWYB3BWTP0NLWISACPEB40MY2&limit=40`\r\n\r\nconst headers = {\r\n  'Accept': 'application/json'\r\n}\r\nexport const getAll = () =>\r\n  fetch(`${url}&v=20180101&near=kolkata`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.response.groups[0].items)\r\n    .catch( e => alert(\"data not loaded properly\"))","import React , {Component} from 'react'\r\n\r\n\r\nclass Map extends Component {\r\n\tconstructor(props){\r\n\t    super(props);\r\n\t    this.state = {\r\n\t    \tmap : {},\r\n\t    \tmarkers :[]\r\n\t     }\r\n\t}\r\n\taddMarker(places) {\r\n\t\tthis.state.markers.map((m)=> m.remove())  //delete current markers\r\n\t\tlet markers=places.map((place) => {\r\n\t\t\tconst popup = new window.mapboxgl.Popup()\r\n    \t\t\t\t.setText(place.venue.name);\r\n\t\t\treturn new window.mapboxgl.Marker()\r\n\t\t        \t.setLngLat([place.venue.location.lng,place.venue.location.lat])\r\n\t\t        \t.setPopup(popup)\r\n        \t\t\t.addTo(this.state.map);\t\t\r\n\t\t})\r\n\t\tthis.setState({markers})\r\n\t}\r\n\tflyToLocation(lng,lat) {\r\n\t\t  this.state.map.flyTo({\r\n\t\t        center: [lng,lat],\r\n\t\t        zoom: 17,\r\n\t\t        bearing: 0,\r\n\t\t        speed: 1, \r\n\t\t        curve: 2,\r\n\t\t        easing: function (t) {\r\n\t\t            return t;\r\n\t\t        }\r\n\t\t    });\r\n\t}\r\n\tcomponentWillReceiveProps(props) {\r\n\t\tif(this.props.places!==props.places){\r\n\t\t\tthis.addMarker(props.places);\r\n\t\t}\r\n\t\tif(this.props.lng!==props.lng && this.props.lat!==props.lat) {\r\n\t\t\tthis.flyToLocation(props.lng,props.lat);\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\twindow.mapboxgl.accessToken = 'pk.eyJ1Ijoic291cm8xOCIsImEiOiJjam1ydHZuMHYwMGNjM3FtdGV4cnFueGI1In0.cWXo4x2v6BrxJ81goB2DPA';\r\n\t\tvar map = new window.mapboxgl.Map({\r\n\t\t    container: 'map',\r\n\t\t    style: 'mapbox://styles/mapbox/streets-v9', \r\n\t\t    center: [88.3639,22.572], \r\n\t\t    zoom: 11 \r\n\t\t});\r\n\t\tmap.on('error',function(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t})\r\n\t\tconsole.log(map)\r\n\t\tthis.setState({map})\r\n  }\r\n\t\r\n\trender() {\t\r\n\t\treturn (\r\n\t\t\t<section className=\"map-container\" role=\"application\"><div id=\"map\"></div></section>\r\n\t\t\t)\r\n\t}\r\n}\r\nexport default Map;","import React, { Component } from 'react';\r\n\r\nimport './App.css';\r\nimport SideBar from './sidebar'\r\nimport * as APIRequest from './APIRequest'\r\nimport Map from './Map'\r\nimport escapeRegExp from 'escape-string-regexp'\r\n\r\nclass App extends Component {\r\n  state ={\r\n    places : [],\r\n    lat : 0 ,\r\n    lng : 0 ,\r\n    searchedPlaces :[],\r\n    error : 0\r\n  }\r\n  placeOnClick=(lat,lng)=>{\r\n    this.setState({lat})\r\n    this.setState({lng})\r\n  }\r\n  changeNav = ()=> {\r\n      const sidebar=document.getElementById(\"sidebar\");\r\n    if(sidebar.style.display===\"block\") {\r\n      sidebar.style.display = \"none\";\r\n    }\r\n    else{\r\n      sidebar.style.display = \"block\";\r\n    }\r\n  }\r\n  search=(query) =>{\r\n    const match = new RegExp(escapeRegExp(query),'i')\r\n    if(query){\r\n      let p=this.state.places.filter(place => match.test(place.venue.name))\r\n      this.setState({searchedPlaces : p})\r\n    }\r\n    else {\r\n      this.setState({searchedPlaces : this.state.places})\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    APIRequest.getAll().then((res)=>{\r\n      console.log(res);\r\n      if(!res || res.error) {\r\n        this.setState({error : 1})\r\n      }\r\n      else {\r\n        this.setState({places : res })\r\n        this.setState({searchedPlaces : res })\r\n      }\r\n    })\r\n    }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <SideBar changeNav={this.changeNav} places={this.state.searchedPlaces} placeOnClick={this.placeOnClick} search={this.search}/>\r\n        <div id=\"main\">\r\n          <nav className=\"row header\">\r\n          <div  className=\"white-text col s1 center\" onClick={(event)=>this.changeNav()}><i className=\"material-icons\" >dehaze</i></div>\r\n          <h2 className=\"center white-text\">{(this.state.error) ? \"Data not loaded.\": \"Kolkata\" }</h2>\r\n          </nav>\r\n          <Map places={this.state.searchedPlaces} lat={this.state.lat} lng={this.state.lng}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Dotenv from 'dotenv';\r\n\r\nDotenv.config();\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA"],"sourceRoot":""}